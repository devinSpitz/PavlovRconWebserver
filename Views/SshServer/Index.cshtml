@model System.Collections.Generic.IEnumerable<PavlovRconWebserver.Models.SshServer>

@{
    ViewBag.Title = "Rcon Servers";
    Layout = "_Layout";
}


<h2>Rcon servers:</h2>
<a asp-area="" asp-controller="SshServer" asp-action="EditServer">&#10133; Add Server</a>
<table class="table table-striped table-responsive text-nowrap">
    <thead>
    <th>
        Id    
    </th>        
    <th>
         Edit      
    </th>
    <th>
        Name    
    </th>
    <th>
        Adress    
    </th>
    <th>
        Pavlov Server
    </th>
    </thead>
    <tbody>
    @foreach (var sshServer in Model)
    {
        <tr>
            <td>
                <a href="@Url.Action("DeleteServer", new {sshServer.Id})" onclick="return confirm('Are you sure you want to Delete?')"><span>&#10060;</span></a>
                @sshServer.Id
            </td>
            <td>
                <a href="@Url.Action("EditServer", "SshServer", new {serverId = sshServer.Id})"><span>Server &#8505;</span></a>
            </td>
            <td>
                @sshServer.Name
            </td>
            <td>
                @sshServer.Adress
            </td>
            
            <td>
                <ul>
                    <li><a href="@Url.Action("EditServer", "PavlovServer", new {serverId = 0,sshServerId = sshServer.Id})"><span>&#10133;</span></a></li>
                    @if (sshServer.PavlovServers != null)
                    {
                        <table class="table table-sm table-bordered table-bordered">
                            <tr>
                                <th>Name</th>
                                <th>Service state</th>
                                <th>Delete</th>
                                <th>System</th>
                                <th>Maps</th>
                                <th>ServerSettings</th>
                            </tr>
                                @foreach (var pavlovServer in sshServer.PavlovServers)
                                {
                                    <tr>
                                        <td> @pavlovServer.Name </td>
                                        <td> @pavlovServer.ServerServiceState </td>
                                        <td><a href="@Url.Action("DeleteServer", "PavlovServer", new {pavlovServer.Id})" onclick="return confirm('Are you sure you want to Delete?')"><span>&#10060;</span></a></td>
                                        <td><a href="@Url.Action("EditServer", "PavlovServer", new {serverId = pavlovServer.Id, sshServerId = sshServer.Id})"><span>&#9998;</span></a></td>
                                        <td><a href="@Url.Action("EditServerSelectedMaps", "PavlovServer", new {serverId = pavlovServer.Id})"><span> &#128506;</span></a></td>
                                        <td><a href="@Url.Action("EditServerSettings", "PavlovServer", new {serverId = pavlovServer.Id})"><span> &#9881;</span></a></td>
                                    </tr>
                                }
                    
                            </table>
                    }
                </ul>
            </td>
        </tr> 
    }
    </tbody>
</table>