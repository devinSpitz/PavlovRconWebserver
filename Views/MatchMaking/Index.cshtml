@model System.Collections.Generic.IEnumerable<PavlovRconWebserver.Models.Match>

@{
    ViewBag.Title = "Matches";
    Layout = "_Layout";
}


<h2>@ViewBag.Title</h2>
@*<a asp-area="" asp-controller="MatchMaking" asp-action="EditServer">&#10133; Add Server</a>*@
 <a href="@Url.Action("Index",new{ showFinished = true })">Show Finished</a>
 <a href="@Url.Action("Index",new{ showFinished = false })">Filter Finished</a>
 <a href="@Url.Action("CreateMatch")">&#10133;</a>
<table class="table table-striped table-responsive">
    <thead>
    <th>
        Id    
    </th>  
    <th>
        Name    
    </th>
    <th>
        Status    
    </th>
    </thead>
    <tbody>
    @foreach (var match in Model)
    {
        <tr>
            <td>
                @*<a href="@Url.Action("DeleteServer", new {rconServer.Id})"><span>&#10060;</span></a>
                <a href="@Url.Action("EditServer", "rconServer", new {serverId = rconServer.Id})"><span>Server &#8505;</span></a> or
                <a href="@Url.Action("EditServerSelectedMaps", "rconServer", new {serverId = rconServer.Id})"><span>Maps &#128506;</span></a>*@
                @match.Id
                @if (match.Status == Status.Preparing)
                {
                    <a href="@Url.Action("EditMatch",new{ match.Id })"><span>&#9998;</span></a>
                    <a href="@Url.Action("StartMatch",new{ match.Id })"><span>&#9654;</span></a>
                }else if (match.Status == Status.StartetWaitingForPlayer)
                {
                    <a href="@Url.Action("ForceStartMatch",new{ match.Id })"><span>Force &#9654;</span></a>
                    <a href="@Url.Action("ForceStopMatch",new{ match.Id })" onclick="return confirm('Are you sure you want to stop the server?')"><span>&#9209;</span></a>
                }
                else
                {
                    <a href="@Url.Action("ForceStopMatch",new{ match.Id })" onclick="return confirm('Are you sure you want to stop the server?')"><span>&#9209;</span></a>
                }
            </td>
            <td>
                @match.Name
            </td>
            <td>
                @match.Status
            </td>
        </tr>
    }
    </tbody>
</table>